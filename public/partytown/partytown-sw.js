/* Partytown 0.4.5 - MIT builder.io */
const e=new Map,t=(e,t)=>({E:e.E,p:t}),r=(e,t)=>new Response(e,{headers:{"content-type":t||"text/html","Cache-Control":"no-store"}});self.oninstall=()=>self.skipWaiting(),self.onactivate=()=>self.clients.claim(),self.onmessage=t=>{const r=t.data,n=e.get(r.E);n&&(e.delete(r.E),clearTimeout(n[1]),n[0](r))},self.onfetch=n=>{const i=n.request,s=new URL(i.url).pathname;s.endsWith("sw.html")?n.respondWith(r('<!DOCTYPE html><html><head><meta charset="utf-8"><script type="module">/* Partytown 0.4.5 - MIT builder.io */\n(e=>{const t=()=>{},r=e=>e.length,n=e=>{try{return e.constructor.name}catch(e){}return""},i=(e,t)=>e.startsWith(t),s=e=>!(i(e,"webkit")||i(e,"toJSON")||i(e,"constructor")||i(e,"toString")||i(e,"_")),o=()=>Math.round(Math.random()*Number.MAX_SAFE_INTEGER).toString(36),a={Anchor:"a",DList:"dl",Image:"img",OList:"ol",Paragraph:"p",Quote:"q",TableCaption:"caption",TableCell:"td",TableCol:"colgroup",TableRow:"tr",TableSection:"tbody",UList:"ul"},l={Graphics:"g",SVG:"svg"},c=Symbol(),u=Symbol(),p=new Map,h=new Map,d={},m=new WeakMap,g=(e,t)=>{if(e)return(t=m.get(e))||(t=e[c])||y(e,t=o()),t},f=(e,t,r,n,i)=>{if((r=d[e])&&r.T){if(e===t)return r.T;if(n=r.T.document,"d"===(i=t.split(".").pop()))return n;if("e"===i)return n.documentElement;if("h"===i)return n.head;if("b"===i)return n.body}return p.get(t)},y=(e,t,r)=>{e&&(p.set(t,e),e[c]=t,e[u]=r=Date.now(),r>w+5e3&&(p.forEach(((e,t)=>{e[u]<w&&e.nodeType&&!e.isConnected&&p.delete(t)})),w=r))};let w=0;const $=e.parent,S=document,v=$.partytown||{},b=(v.lib||"/~partytown/")+"",T=(e,t,r,s,o)=>void 0!==t&&(s=typeof t)?"string"===s||"number"===s||"boolean"===s||null==t?[0,t]:"function"===s?[6]:(r=r||new Set)&&Array.isArray(t)?r.has(t)?[1,[]]:r.add(t)&&[1,t.map((t=>T(e,t,r)))]:"object"===s?""===(o=n(t))?[2,{}]:"Window"===o?[3,[e,e]]:"HTMLCollection"===o||"NodeList"===o?[7,Array.from(t).map((t=>T(e,t,r)[1]))]:o.endsWith("Event")?[5,M(e,t,r)]:"CSSRuleList"===o?[12,Array.from(t).map(E)]:i(o,"CSS")&&o.endsWith("Rule")?[11,E(t)]:"CSSStyleDeclaration"===o?[13,M(e,t,r)]:"Attr"===o?[10,[t.name,t.value]]:t.nodeType?[3,[e,g(t),t.nodeName]]:[2,M(e,t,r,!0,!0)]:void 0:t,M=(e,t,r,n,i,o,a,l)=>{if(o={},!r.has(t))for(a in r.add(t),t)s(a)&&(l=t[a],(n||"function"!=typeof l)&&(i||""!==l)&&(o[a]=T(e,l,r)));return o},E=e=>{let t,r={};for(t in e)C.includes(t)&&(r[t]=String(e[t]));return r},I=(t,r,n,i)=>r?(n=r[0],i=r[1],0===n?i:4===n?N(t,i):1===n?i.map((e=>I(t,e))):3===n?f(i[0],i[1]):5===n?L(x(t,i)):2===n?x(t,i):8===n?i:9===n?new e[r[2]](i):void 0):void 0,N=(e,{U:t,w:r,K:n},i)=>((i=h.get(n))||(i=function(...i){e.postMessage([7,{U:t,w:r,K:n,Q:T(t,this),b:T(t,i)}])},h.set(n,i)),i),L=e=>new("detail"in e?CustomEvent:Event)(e.type,e),x=(e,t,r,n)=>{for(n in r={},t)r[n]=I(e,t[n]);return r},C="cssText,selectorText,href,media,namespaceURI,prefix,name,conditionText".split(","),R=async(e,t)=>{let n,i,s,o,a,l,c={E:t.E},u=r(t.P),p=0;for(;p<u;p++)try{l=p===u-1,n=t.P[p],i=n.U,s=n.a,!d[i]&&i.startsWith("f_")&&await new Promise((e=>{let t=0,r=()=>{d[i]||t++>1e3?e():requestAnimationFrame(r)};r()})),1===s[0]&&s[1]in d[i].T?y(new d[i].T[s[1]](...I(e,s[2])),n.w):(o=f(i,n.w),o?(a=A(e,o,s,l,n.r),n.d&&("string"==typeof n.d?y(a,n.d):d[n.d.U]={U:n.d.U,T:{document:a}}),"object"==typeof(h=a)&&h&&h.then&&(a=await a,c.z=!0),c.L=T(i,a)):c.p=n.w+" not found")}catch(e){l?c.p=String(e.stack||e):console.error(e)}var h;return c},A=(e,t,n,i,s)=>{let o,a,l,c,u,p=0,h=r(n);for(;p<h;p++){a=n[p],o=n[p+1],l=n[p-1];try{if(!Array.isArray(o))if("string"==typeof a||"number"==typeof a){if(p+1===h&&s)return u={},s.map((e=>u[e]=t[e])),u;t=t[a]}else{if(0===o)return void(t[l]=I(e,a));if("function"==typeof t[l]&&(c=I(e,a),"insertRule"===l&&c[1]>r(t.cssRules)&&(c[1]=r(t.cssRules)),t=t[l].apply(t,c),"play"===l))return Promise.resolve()}}catch(e){if(i)throw e;console.debug(e)}}return t},O=(e,t,r)=>{if(!m.has(r)){m.set(r,t);const n=r.document,i=r.history,s=m.get(r.parent),o=()=>e.postMessage([3,{U:t,I:s,R:n.baseURI,S:n.visibilityState}]),a=i.pushState.bind(i),l=i.replaceState.bind(i),c=()=>setTimeout((()=>e.postMessage([11,t,n.baseURI])));i.pushState=(e,t,r)=>{a(e,t,r),c()},i.replaceState=(e,t,r)=>{l(e,t,r),c()},r.addEventListener("popstate",c),r.addEventListener("hashchange",c),n.addEventListener("visibilitychange",(()=>e.postMessage([12,t,n.visibilityState]))),d[t]={U:t,T:r},"complete"===n.readyState?o():r.addEventListener("load",o)}},H=(e,t)=>{let n,i,s,o=t.U,a=t.T,l=a.document;l&&l.body?(n=l.querySelector(\'script[type="text/partytown"]:not([data-ptid]):not([data-pterror]):not([async]):not([defer])\'),n||(n=l.querySelector(\'script[type="text/partytown"]:not([data-ptid]):not([data-pterror])\')),n?(n.dataset.ptid=i=g(n,o),s={U:o,w:i},n.src?(s.R=n.src,s.G=n.dataset.ptsrc||n.src):s.j=n.innerHTML,e.postMessage([5,s])):(t.x||(t.x=1,((e,t,n)=>{let i,s,o=n._ptf,a=(n.partytown||{}).forward||[],l=(r,n)=>e.postMessage([8,{U:t,q:r,b:T(t,Array.from(n))}]);if(n._ptf=void 0,a.map((e=>{s=n,e.split(".").map(((e,t,n)=>{s=s[n[t]]=t+1<r(n)?s[n[t]]||("push"===n[t+1]?[]:{}):(...e)=>l(n,e)}))})),o)for(i=0;i<r(o);i+=2)l(o[i],o[i+1])})(e,o,a),l.dispatchEvent(new CustomEvent("pt0"))),e.postMessage([6,o]))):requestAnimationFrame((()=>H(e,t)))},D=()=>{const e=S.implementation.createHTMLDocument(),t=e.createElement("i"),r=e.createTextNode(""),i=e.createComment(""),s=e.createDocumentFragment(),o=F($,"IntersectionObserver"),c=F($,"MutationObserver"),u=F($,"ResizeObserver"),p=$.performance,h=$.screen,d=Object.getOwnPropertyNames($).map((t=>((e,t,r,n)=>{if(r=t.match(/^(HTML|SVG)(.+)Element$/))return n=r[2],"S"==t[0]?e.createElementNS("http://www.w3.org/2000/svg",l[n]||n.slice(0,2).toLowerCase()+n.slice(2)):e.createElement(a[n]||n)})(e,t))).filter((e=>e)).map((e=>[e])),m=[[$.history],[p],[p.navigation],[p.timing],[h],[h.orientation],[$.visualViewport],[o,12],[c,12],[u,12],[r],[i],[s],[t],[t.attributes],[t.classList],[t.dataset],[t.style],[e],[e.doctype],...d].filter((e=>e[0])).map((e=>{const t=e[0],r=e[1],i=n(t);return[i,$[i].prototype,t,r]})),g=[U("Window",$),U("Node",r)],f={i:JSON.stringify(v,((e,t)=>("function"==typeof t&&(t=String(t)).startsWith(e+"(")&&(t="function "+t),t))),B:new URL(b,$.location)+"",v:g,H:origin,C:k("localStorage"),N:k("sessionStorage")};return m.map((([e,t,r,n])=>P(g,e,t,r,n))),j(g,$,"IntersectionObserverEntry"),f},U=(e,t,r)=>{let n=[],i=[e,"Object",n];for(r in t)_(n,t,r);return i},P=(e,t,r,i,s)=>{if("Object"!==t&&!e.some((e=>e[0]===t))){const o=Object.getPrototypeOf(r),a=n(o),l=[];P(e,a,o,i,s),Object.keys(Object.getOwnPropertyDescriptors(r)).map((e=>_(l,i,e))),e.push([t,a,l,s,i.nodeName])}},_=(e,t,r,i,o,a)=>{try{s(r)&&isNaN(r[0])&&"all"!==r&&("function"==(o=typeof(i=t[r]))?(String(i).includes("[native")||Object.getPrototypeOf(t)[r])&&e.push([r,5]):"object"===o&&null!=i?"Object"!==(a=n(i))&&self[a]&&e.push([r,i.nodeType||a]):"symbol"!==o&&(r.toUpperCase()===r?e.push([r,6,i]):e.push([r,6])))}catch(e){console.warn(e)}},k=e=>{let t,n=[],i=0,s=r($[e]);for(;i<s;i++)t=$[e].key(i),n.push([t,$[e].getItem(t)]);return n},F=(e,r)=>void 0!==e[r]?new e[r](t):0,j=(e,t,r)=>{void 0!==t[r]&&e.push([r,"Object",Object.keys(t[r].prototype).map((e=>[e,6])),12])};let J;(t=>{const r=e.navigator.serviceWorker;return r.getRegistration().then((e=>(r.addEventListener("message",(t=>{return r=t.data,n=t=>e.active&&e.active.postMessage(t),R(J,r).then(n);var r,n})),(e,t)=>{0===t[0]?e.postMessage([1,D()]):((e,t,r)=>{2===t[0]?O(e,o(),$):(r=d[t[1]])&&(5===t[0]?requestAnimationFrame((()=>H(e,r))):4===t[0]&&((e,t,r,n,i)=>{(i=t.T.document.querySelector(`[data-ptid="${r}"]`))&&(n?i.dataset.pterror=n:i.type+="-x",delete i.dataset.ptid),H(e,t)})(e,r,t[2],t[3]))})(e,t)})))})().then((e=>{e&&(J=new Worker(URL.createObjectURL(new Blob([\'/* Partytown 0.4.5 - MIT builder.io */\\n(e=>{const t=Symbol(),r=Symbol(),n=Symbol(),i=Symbol(),s=Symbol(),o=Symbol(),a=Symbol(),l=Symbol(),$=new Map,c={},u=new WeakMap,d=[],h={},p=new Map,g=new Map,m={},f=new Map,y=new Map,w="about:blank",S=e=>e.split(","),v=e=>{if(e=h.B+e,new URL(e).origin!=location.origin)throw"Invalid "+e;return e},b=S("clientWidth,clientHeight,clientTop,clientLeft,innerWidth,innerHeight,offsetWidth,offsetHeight,offsetTop,offsetLeft,outerWidth,outerHeight,pageXOffset,pageYOffset,scrollWidth,scrollHeight,scrollTop,scrollLeft"),I=S("childElementCount,children,firstElementChild,lastElementChild,nextElementSibling,previousElementSibling"),T=S("insertBefore,remove,removeChild,replaceChild"),M=S("className,width,height,hidden,innerHTML,innerText,textContent"),E=S("setAttribute,setAttributeNS,setProperty"),N=S("addEventListener,dispatchEvent,removeEventListener"),L=N.concat(E,S("add,observe,remove,unobserve")),x=/^[A-Z]([A-Z0-9-]*[A-Z0-9])?$/,C=()=>{},R=e=>e.length,A=e=>{try{return e.constructor.name}catch(e){}return""},P=[],H=()=>Math.round(Math.random()*Number.MAX_SAFE_INTEGER).toString(36),O="text/partytown",W=(e,t,r)=>Object.defineProperty(e,t,{...r,configurable:!0}),D=(e,t)=>W(e,"name",{value:t}),k=(e,t,r)=>W(e.prototype,t,r),B=(e,t)=>Object.defineProperties(e.prototype,t),j=(e,t,r)=>k(e,t,{value:r,writable:!0}),U=(e,t)=>t in e[o],F=(e,t)=>e[o][t],_=(e,t,r)=>e[o][t]=r,V=(e,t,r)=>console.warn(`Partytown unable to ${e} cross-origin ${t}: `+r.D),X=[],q=(e,n,i,o,a,l)=>{if(X.push({U:e[t],w:e[r],a:[...e[s],...n],d:o,r:a}),3===i)h.J([10,{E:H(),P:[...X]}],l?[l instanceof ArrayBuffer?l:l.buffer]:void 0),X.length=0;else if(1===i)return z(!0);h.c=setTimeout(z,20)},z=e=>{if(clearTimeout(h.c),R(X)){const t=X[R(X)-1],r={E:H(),P:[...X]};if(X.length=0,e){const e=((e,t)=>{const r=new XMLHttpRequest;return r.open("POST",v("proxytown"),!1),r.send(JSON.stringify(t)),JSON.parse(r.responseText)})(0,r),n=e.z,i=ce(t.U,t.w,t.a,e.L);if(e.p){if(n)return Promise.reject(e.p);throw new Error(e.p)}return n?Promise.resolve(i):i}h.J([10,r])}},G=(e,t,r,n)=>h.i.get&&(n=h.i.get(K(e,t)))!==a?n:n=q(e,t,1,void 0,r),J=(e,t,r,n)=>{if(h.i.set){if((n=h.i.set({value:r,prevent:l,...K(e,t)}))===l)return;n!==a&&(r=n)}M.some((e=>t.includes(e)))&&(f.clear(),t[t.length-1]),t=[...t,$e(e,r),0],q(e,t,2)},Z=(e,t,r,n,i,s,o,l)=>h.i.apply&&(o=h.i.apply({args:r,...K(e,t)}))!==a?o:(l=t[R(t)-1],t=[...t,$e(e,r)],n=n||(L.includes(l)?2:1),"setAttribute"===l&&U(e,r[0])?_(e,r[0],r[1]):T.includes(l)?(f.clear(),y.clear()):E.includes(l)&&(n=2,f.clear()),o=q(e,t,n,i,void 0,s)),Y=(e,t,r)=>{q(e,[1,t,$e(e,r)],1)},K=(e,t)=>({name:t.join("."),continue:a,nodeName:e[n],constructor:A(e)}),Q=(e,t,r,n,i)=>(!(i=$.get(t))&&r&&m[e]&&(i=m[e].k(r,t,n),$.set(t,i)),i),ee=(e,t)=>j(e,"nodeType",t),te=(e,t)=>t.map((t=>k(e,t,{get(){let e=re(this,t),r=y.get(e);return r||(r=G(this,[t]),y.set(e,r)),r}}))),re=(e,n,i)=>[e[t],e[r],n,...(i||P).map((e=>String(e&&e[t]?e[r]:e)))].join("."),ne=(e,t)=>S(t).map((t=>k(e,t,{get(){return U(this,t)||_(this,t,G(this,[t])),F(this,t)},set(e){F(this,t)!==e&&J(this,[t],e),_(this,t,e)}}))),ie=e=>b.map((t=>k(e,t,{get(){const e=f.get(re(this,t));if("number"==typeof e)return e;const r=G(this,[t],b);return r&&"object"==typeof r?(Object.entries(r).map((([e,t])=>f.set(re(this,e),t))),r[t]):r}}))),se=(e,t)=>t.map((t=>{e.prototype[t]=function(...e){let r=re(this,t,e),n=f.get(r);return n||(n=Z(this,[t],e),f.set(r,n)),n}})),oe=(e,n,i,s,o)=>{return void 0!==i&&(o=typeof i)?"string"===o||"boolean"===o||"number"===o||null==i?[0,i]:"function"===o?[4,{U:e,w:n,K:(a=i,(l=u.get(a))||(u.set(a,l=H()),c[l]=a),l)}]:(s=s||new Set)&&Array.isArray(i)?s.has(i)?[1,[]]:s.add(i)&&[1,i.map((t=>oe(e,n,t,s)))]:"object"===o?i[r]?[3,[i[t],i[r]]]:i instanceof Event?[5,le(e,n,i,!1,s)]:ae&&i instanceof TrustedHTML?[0,i.toString()]:i instanceof ArrayBuffer?[8,i]:ArrayBuffer.isView(i)?[9,i.buffer,A(i)]:[2,le(e,n,i,!0,s)]:void 0:i;var a,l},ae="undefined"!=typeof TrustedHTML,le=(e,t,r,n,i,s,o,a)=>{if(s={},!i.has(r))for(o in i.add(r),r)a=r[o],(n||"function"!=typeof a)&&(s[o]=oe(e,t,a,i));return s},$e=(e,n)=>e?oe(e[t],e[r],n):[0,n],ce=(e,t,r,n,i,s,o,a)=>{if(n){if(i=n[0],s=n[1],0===i||11===i||12===i)return s;if(4===i)return de(r,s);if(6===i)return C;if(3===i)return ue(s);if(7===i)return new he(s.map(ue));if(10===i)return new pe(s);if(1===i)return s.map((n=>ce(e,t,r,n)));for(a in o={},s)o[a]=ce(e,t,[...r,a],s[a]);if(13===i)return new m[e].T.CSSStyleDeclaration(e,t,r,o);if(5===i){if("message"===o.type&&o.origin){let e,t=JSON.stringify(o.data),r=d.find((e=>e.m===t));r&&(e=m[r.U],e&&(o.source=e.T,o.origin=e.D.origin))}return new Proxy(new Event(o.type,o),{get:(e,t)=>t in o?o[t]:"function"==typeof e[String(t)]?C:e[String(t)]})}if(2===i)return o}},ue=([e,t,r])=>t===e&&m[e]?m[e].T:Q(e,t,r),de=(e,{U:t,w:r,F:n,K:i})=>(c[i]||u.set(c[i]=function(...i){const s=Q(t,r,n);return Z(s,e,i)},i),c[i]),he=class{constructor(e){(this._=e).map(((e,t)=>this[t]=e))}entries(){return this._.entries()}forEach(e,t){this._.map(e,t)}item(e){return this[e]}keys(){return this._.keys()}get length(){return R(this._)}values(){return this._.values()}[Symbol.iterator](){return this._[Symbol.iterator]()}},pe=class{constructor(e){this.name=e[0],this.value=e[1]}get nodeName(){return this.name}get nodeType(){return 2}},ge=(e,t,r,n,i)=>{let s,o,a=t=>((t=r.get(e.origin))||r.set(e.origin,t=[]),t),l=e=>a().findIndex((t=>t[me]===e)),$={getItem:e=>(s=l(e),s>-1?a()[s][fe]:null),setItem(r,o){s=l(r),s>-1?a()[s][fe]=o:a().push([r,o]),n?Z(e,[t,"setItem"],[r,o],2):V("set",t,i)},removeItem(r){s=l(r),s>-1&&a().splice(s,1),n?Z(e,[t,"removeItem"],[r],2):V("remove",t,i)},key:e=>(o=a()[e],o?o[me]:null),clear(){a().length=0,n?Z(e,[t,"clear"],P,2):V("clear",t,i)},get length(){return a().length}};e[t]=$},me=0,fe=1,ye=(e,t,r)=>{e[r]=D(class extends t{constructor(e,t,r,i){return super(e,t,r,i||{}),new Proxy(this,{get:(e,t)=>e[t]?e[t]:(e[t]||"string"!=typeof t||e[n][t]||(e[n][t]=G(e,[t])),e[n][t]),set:(e,t,r)=>(e[n][t]=r,J(e,[t],r),f.clear(),!0)})}setProperty(...e){this[n][e[0]]=e[1],Z(this,["setProperty"],e,2),e[0],f.clear()}getPropertyValue(e){return this[e]}removeProperty(e){let t=this[n][e];return Z(this,["removeProperty"],[e],2),f.clear(),this[n][e]=void 0,t}},r)},we=(e,t)=>{e[t]=D(class{constructor(e){this.ownerNode=e}get cssRules(){const e=this.ownerNode;return new Proxy({},{get(t,r){const n=String(r);return"item"===n?t=>ve(e,t):"length"===n?Se(e).length:isNaN(n)?t[r]:ve(e,n)}})}insertRule(e,t){const r=Se(this.ownerNode);return(t=void 0===t?0:t)>=0&&t<=r.length&&(Z(this.ownerNode,["sheet","insertRule"],[e,t],2),r.splice(t,0,0)),this.ownerNode,f.clear(),t}deleteRule(e){Z(this.ownerNode,["sheet","deleteRule"],[e],2),Se(this.ownerNode).splice(e,1),this.ownerNode,f.clear()}get type(){return"text/css"}},t);const r={sheet:{get(){return new e[t](this)}}};B(e.HTMLStyleElement,r)},Se=(e,t)=>((t=F(e,2))||(t=G(e,["sheet","cssRules"]),_(e,2,t)),t),ve=(e,t,r)=>(0===(r=Se(e))[t]&&(r[t]=G(e,["sheet","cssRules",parseInt(t,10)])),r[t]),be="0.4.5",Ie=(e,t,r,n,i)=>{try{e.l=t,Te(e,r)}catch(e){console.error(r,e),i=String(e.stack||e)}return e.l="",i},Te=(e,t,r)=>{e.M=1,t=`with(this){${(h.i.globalFns||[]).filter((e=>/[a-zA-Z_$][0-9a-zA-Z_$]*/.test(e))).map((e=>`(typeof ${e}==\\\'function\\\'&&(window.${e}=${e}))`)).join(";")+t.replace(/\\\\bthis\\\\b/g,"(thi$(this)?window:this)").replace(/\\\\/\\\\/# so/g,"//Xso")}\\\\n;function thi$(t){return t===this}}`+(r?"\\\\n//# sourceURL="+r:""),e.A||(t=t.replace(/.postMessage\\\\(/g,`.postMessage(\\\'${e.U}\\\',`)),new Function(t).call(e.T),e.M=0},Me=(e,t,r)=>{(r=F(e,t))&&setTimeout((()=>r.map((e=>e({type:t})))))},Ee=(e,t,r,n,i,s)=>{for(n=e.D;!n.host&&(n=(e=m[e.I]).D,e.U!==e.I););return i=new URL(t||"",n),!r&&h.i.resolveUrl&&(s=h.i.resolveUrl(i,n))?s:i},Ne=(e,t,r)=>Ee(e,t,r)+"",Le=()=>`<script src="${v("partytown.js?v="+be)}"><\\\\/script>`,xe=e=>class{constructor(){this.s="",this.l=[],this.e=[]}get src(){return this.s}set src(t){fetch(Ne(e,t,!0),{mode:"no-cors",keepalive:!0}).then((e=>{e.ok||0===e.status?this.l.map((e=>e({type:"load"}))):this.e.map((e=>e({type:"error"})))}),(()=>this.e.forEach((e=>e({type:"error"})))))}addEventListener(e,t){"load"===e&&this.l.push(t),"error"===e&&this.e.push(t)}get onload(){return this.l[0]}set onload(e){this.l=[e]}get onerror(){return this.e[0]}set onerror(e){this.e=[e]}},Ce={addEventListener:{value(...e){const t=e[0],r=F(this,t)||[];r.push(e[1]),_(this,t,r)}},async:{get:C,set:C},defer:{get:C,set:C},onload:{get(){let e=F(this,"load");return e&&e[0]||null},set(e){_(this,"load",e?[e]:null)}},onerror:{get(){let e=F(this,"error");return e&&e[0]||null},set(e){_(this,"error",e?[e]:null)}},getAttribute:{value(e){return"src"===e?this.src:Z(this,["getAttribute"],[e])}},setAttribute:{value(e,t){Re.includes(e)?this[e]=t:Z(this,["setAttribute"],[e,t])}}},Re=S("src,type"),Ae=(e,t)=>{const r={innerHTML:Pe,innerText:Pe,src:{get(){return F(this,4)||""},set(e){const r=Ne(t,e,!0);e=Ne(t,e),_(this,4,e),J(this,["src"],e),r!==e&&J(this,["dataset","ptsrc"],r)}},textContent:Pe,type:{get(){return G(this,["type"])},set(e){He(e)||(_(this,5,e),J(this,["type"],e))}},...Ce};B(e,r)},Pe={get(){return F(this,3)||""},set(e){_(this,3,e)}},He=e=>!e||"text/javascript"===e,Oe=(e,i,s)=>{const o=D(class extends s{appendChild(e){return this.insertBefore(e,null)}get href(){}set href(e){}insertBefore(e,s){const o=e[t]=this[t],a=e[r],l=e[n],$="SCRIPT"===l,c="IFRAME"===l;if($){const t=F(e,3),r=F(e,5);if(t){if(He(r)){const r=Ie(i,a,t,0,""),n=r?"pterror":"ptid",s=r||a;J(e,["type"],O+"-x"),J(e,["dataset",n],s)}J(e,["innerHTML"],t)}}return Z(this,["insertBefore"],[e,s],2),c&&((e,t)=>{let r,n,i=0,s=()=>{m[e]&&m[e].x&&!m[e].y?(r=F(t,1)?"error":"load",n=F(t,r),n&&n.map((e=>e({type:r})))):i++>2e3?(n=F(t,"error"),n&&n.map((e=>e({type:"error"})))):setTimeout(s,9)};s()})(a,e),$&&(z(!0),h.J([5,o])),e}get nodeName(){return this[n]}get nodeType(){return 3}get ownerDocument(){return i.n}},"Node");te(o,S("childNodes,firstChild,isConnected,lastChild,nextSibling,parentElement,parentNode,previousSibling")),e.Node=o},We=S("AUDIO,CANVAS,VIDEO"),De=S("Audio,MediaSource"),ke=(e,r,n)=>{B(e,{body:{get:()=>r.e},cookie:{get(){return r.A?G(this,["cookie"]):(V("get","cookie",r),"")},set(e){r.A&&J(this,["cookie"],e)}},createElement:{value(e){if(e=e.toUpperCase(),!x.test(e))throw e+" not valid";const r="IFRAME"===e,n=this[t],i=(r?"f_":"")+H(),s=Q(n,i,e);if(Z(this,["createElement"],[e],2,i),r)ze({U:i,I:n,R:w},!0).T.fetch=fetch,J(s,["srcdoc"],Le());else if("SCRIPT"===e){const e=F(s,5);He(e)&&J(s,["type"],O)}return s}},createElementNS:{value(e,r){const n=H(),i=Q(this[t],n,r,e);return Z(this,["createElementNS"],[e,r],2,n),i}},createTextNode:{value(e){const r=this[t],n=H(),i=Q(r,n,"#text");return Z(this,["createTextNode"],[e],2,n),i}},createEvent:{value:e=>new Event(e)},currentScript:{get(){return r.l?Q(this[t],r.l,"SCRIPT"):null}},defaultView:{get:()=>n?null:r.T},documentElement:{get:()=>r.o},getElementsByTagName:{value(e){return"BODY"===(e=e.toUpperCase())?[r.e]:"HEAD"===e?[r.s]:Z(this,["getElementsByTagName"],[e])}},head:{get:()=>r.s},implementation:{get(){return{hasFeature:()=>!0,createHTMLDocument:e=>{const t=H();return Z(this,["implementation","createHTMLDocument"],[e],1,{U:t}),Xe(t,t,r.D+"","hidden",!0,!0).n}}}},location:{get:()=>r.D,set(e){r.D.href=e+""}},nodeType:{value:9},parentNode:{value:null},parentElement:{value:null},readyState:{value:"complete"},visibilityState:{get:()=>r.S||"visible"}}),ne(e,"compatMode,referrer,forms")},Be=(e,t)=>{B(e,{parentElement:{get(){return this.parentNode}},parentNode:{get:()=>t.o}})},je=(e,t)=>{B(e,{localName:{get(){return this[n].toLowerCase()}},namespaceURI:{get(){return this[i]||"http://www.w3.org/1999/xhtml"}},nodeType:{value:1},tagName:{get(){return this[n]}}}),te(e,I),ne(e,"id"),ie(t),se(t,S("getClientRects,getBoundingClientRect"))},Ue=(e,t)=>{const r={};S("hash,host,hostname,href,origin,pathname,port,protocol,search").map((e=>{r[e]={get(){let r,n=F(this,4);return"string"!=typeof n&&(r=G(this,["href"]),_(this,4,r),n=new URL(r)[e]),Ee(t,n)[e]},set(r){let n=F(this,4),i=Ee(t,n);i[e]=new URL(r+"",i.href),_(this,4,i.href),J(this,["href"],i.href)}}})),B(e,r)},Fe=(e,t)=>{const r={contentDocument:{get(){return _e(this).n}},contentWindow:{get(){return _e(this).T}},src:{get(){let e=_e(this).D.href;return e.startsWith("about:")?"":e},set(e){if(!e.startsWith("about:")){let t,r=new XMLHttpRequest,n=_e(this);n.D.href=e=Ne(n,e),n.y=1,_(this,1,void 0),r.open("GET",e,!1),r.send(),t=r.status,t>199&&t<300?(J(this,["srcdoc"],`<base href="${e}">`+r.responseText.replace(/<script>/g,\\\'<script type="text/partytown">\\\').replace(/<script /g,\\\'<script type="text/partytown" \\\').replace(/text\\\\/javascript/g,O)+Le()),z(!0),h.J([5,n.U])):(_(this,1,t),n.y=0)}}},...Ce};B(e,r)},_e=e=>{const n=e[r];return m[n]||ze({U:n,I:e[t],R:G(e,["src"])||w},!0),m[n]},Ve=e=>{const t=(e,t)=>{const{a:r,b:n,c:i,d:s,e:o,f:a}=Z(e,[t],P);return new DOMMatrixReadOnly([r,n,i,s,o,a])},r={...e,getCTM:{value:function(){return t(this,"getCTM")}},getScreenCTM:{value:function(){return t(this,"getScreenCTM")}}};B(e,r)},Xe=(a,l,$,c,u,f)=>{const y=class{constructor(e,a,l,$,c){this[t]=e,this[r]=a,this[s]=l||[],this[n]=$,this[o]={},c&&(this[i]=c)}},b=new(D(class extends URL{assign(){}reload(){}replace(){}},"Location"))($),T=b.origin===h.H||b.origin===w,M={},E=D(class extends y{constructor(){super(a,a);let n,i,o=this,$=0,d=()=>{$||((h.u||(e.g=[G,J,Z,Y,B,H,t,r,s],h.t(v("partytown-media.js?v="+be)),h.u=e.f,delete e.f),h.u)(y,x,M,o,De),$=1)},m={},w=(e,t,r)=>(We.includes(e)&&d(),new(m[e]?m[e]:e.includes("-")?m.UNKNOWN:m.DIV)(a,t,P,e,r));var N,C;o.Window=E,Oe(o,M,y),ye(o,y,"CSSStyleDeclaration"),((e,t,r)=>{e[r]=D(class extends t{now(){return performance.now()}},r)})(o,y,"Performance"),h.v.map((([e,t,n,i,l])=>{const $=qe[e]?L:"EventTarget"===t?x:"Object"===t?y:o[t],c=o[e]=D(12===i?class extends y{constructor(...t){super(a,H()),Y(this,e,t)}}:o[e]||class extends ${},e);l&&(m[l]=c),n.map((([e,t,n])=>{e in c.prototype||e in $.prototype||("string"==typeof t?k(c,e,{get(){if(!U(this,e)){const n=this[r],i=[...this[s],e],l=o[t];l&&_(this,e,new l(a,n,i))}return F(this,e)},set(t){_(this,e,t)}}):5===t?j(c,e,(function(...t){return Z(this,[e],t)})):t>0&&(void 0!==n?j(c,e,n):k(c,e,{get(){return G(this,[e])},set(t){return J(this,[e],t)}})))}))})),S("atob,btoa,crypto,indexedDB,setTimeout,setInterval,clearTimeout,clearInterval").map((t=>{delete E.prototype[t],t in o||(n=e[t],null!=n&&(o[t]="function"!=typeof n||n.toString().startsWith("class")?n:n.bind(e)))})),Object.getOwnPropertyNames(e).map((t=>{t in o||(o[t]=e[t])})),De.map((e=>W(o,e,{get:()=>(d(),o[e])}))),"trustedTypes"in e&&(o.trustedTypes=e.trustedTypes),je(o.Element,o.HTMLElement),ke(o.Document,M,f),N=o.DocumentFragment,ee(N,11),te(N,I),Ue(o.HTMLAnchorElement,M),C=o.HTMLFormElement,B(C,{}),ne(C,"elements"),Fe(o.HTMLIFrameElement),Ae(o.HTMLScriptElement,M),Ve(o.SVGGraphicsElement),Be(o.HTMLHeadElement,M),Be(o.HTMLBodyElement,M),((e,t)=>{B(e,{parentElement:{value:null},parentNode:{get:()=>t.n}})})(o.HTMLHtmlElement,M),we(o,"CSSStyleSheet"),ee(o.Comment,8),ee(o.DocumentType,10),Object.assign(M,{U:a,I:l,T:new Proxy(o,{has:()=>!0}),n:w("#document",a+".d"),o:w("HTML",a+".e"),s:w("HEAD",a+".h"),e:w("BODY",a+".b"),D:b,S:c,A:T,k:w}),o.requestAnimationFrame=e=>setTimeout((()=>e(performance.now())),9),o.cancelAnimationFrame=e=>clearTimeout(e),o.requestIdleCallback=(e,t)=>(t=Date.now(),setTimeout((()=>e({didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-t))})),1)),o.cancelIdleCallback=e=>clearTimeout(e),ge(o,"localStorage",p,T,M),ge(o,"sessionStorage",g,T,M),T||(o.indexeddb=void 0),u&&(i={},o.history={pushState(e){i=e},replaceState(e){i=e},get state(){return i},length:0}),o.Worker=void 0}addEventListener(...e){"load"===e[0]?M.M&&setTimeout((()=>e[1]({type:"load"}))):Z(this,["addEventListener"],e,2)}get body(){return M.e}get document(){return M.n}get documentElement(){return M.o}fetch(e,t){return e="string"==typeof e||e instanceof URL?String(e):e.url,fetch(Ne(M,e),t)}get frameElement(){return a===l?null:Q(l,a,"IFRAME")}get globalThis(){return this}get head(){return M.s}get location(){return b}set location(e){b.href=e+""}get Image(){return xe(M)}get name(){return name+a}get navigator(){return(e=>{let t,r={sendBeacon:(t,r)=>{try{return fetch(Ne(e,t,!0),{method:"POST",body:r,mode:"no-cors",keepalive:!0}),!0}catch(e){return console.error(e),!1}}};for(t in navigator)r[t]=navigator[t];return r})(M)}get origin(){return b.origin}set origin(e){}get parent(){for(let e in m)if(m[e].U===l)return m[e].T;return this}postMessage(...e){m[e[0]]&&(R(d)>50&&d.splice(0,5),d.push({U:e[0],m:JSON.stringify(e[1])}),e=e.slice(1)),Z(this,["postMessage"],e,3)}get self(){return this}get top(){for(let e in m)if(m[e].U===m[e].I)return m[e].T;return this}get window(){return this}get XMLHttpRequest(){const e=XMLHttpRequest,t=String(e),r=D(class extends e{open(...e){e[1]=Ne(M,e[1]),super.open(...e)}set withCredentials(e){}toString(){return t}},A(e));return r.prototype.constructor.toString=()=>t,r}},"Window"),L=class extends y{constructor(e,t,r,n){return super(e,t,r,n),new Proxy(this,{get:(e,t)=>G(e,[t]),set:(e,t,r)=>(J(e,[t],r),!0)})}},x=class extends y{};return N.map((e=>x.prototype[e]=function(...t){return Z(this,[e],t,2)})),ne(E,"devicePixelRatio"),ie(E),se(E,["getComputedStyle"]),new E,M},qe={DOMStringMap:1,NamedNodeMap:1},ze=({U:e,I:t,R:r,S:n},i)=>(m[e]||(m[e]=Xe(e,t,r,n,i)),h.J([5,e]),m[e]),Ge=[],Je=t=>{const r=t.data,n=r[0],i=r[1];h.x?5===n?(async e=>{let t,r=e.U,n=e.w,i=Q(r,n,"SCRIPT"),s=e.j,o=e.R,a=e.G,l="",$=m[r];if(o)try{o=Ee($,o)+"",_(i,4,o),t=await fetch(o),t.ok?(s=await t.text(),$.l=n,Te($,s,a||o),Me(i,"load")):(l=t.statusText,Me(i,"error"))}catch(e){console.error(e),l=String(e.stack||e),Me(i,"error")}else s&&(l=Ie($,n,s,0,l));$.l="",h.J([4,r,n,l])})(i):7===n?(({U:e,w:t,K:r,Q:n,b:i})=>{if(c[r])try{c[r].apply(ce(e,t,[],n),ce(e,t,[],i))}catch(e){console.error(e)}})(i):8===n?(({U:e,q:t,b:r})=>{try{let n=m[e].T,i=0,s=R(t);for(;i<s;i++)i+1<s?n=n[t[i]]:n[t[i]].apply(n,ce(null,e,[],r))}catch(e){console.error(e)}})(i):3===n?ze(i):6===n?(m[i].x=1,m[i].y=0):12===n?m[i].S=r[2]:11===n&&(m[i].D.href=r[2]):1===n?((t=>{const r=h.i=JSON.parse(t.i),n=t.H;h.t=importScripts.bind(e),h.v=t.v,h.B=t.B,h.H=n,h.J=postMessage.bind(e),h.O=t.O,p.set(n,t.C),g.set(n,t.N),e.importScripts=void 0,delete e.postMessage,delete e.WorkerGlobalScope,S("resolveUrl,get,set,apply").map((e=>{r[e]&&(r[e]=new Function("return "+r[e])())})),h.x=1})(i),h.J([2]),[...Ge].map(Je),Ge.length=0):Ge.push(t)};e.onmessage=Je,postMessage([0])})(self);\\n\'],{type:"text/javascript"})),{name:"Partytown 🎉"}),J.onmessage=t=>{const r=t.data;10===r[0]?R(J,r[1]):e(J,r)},$.addEventListener("pt1",(e=>O(J,g(e.detail.frameElement),e.detail))))}))})(window);\n<\/script></head></html>')):s.endsWith("proxytown")&&n.respondWith((n=>new Promise((async i=>{const s=await n.clone().json(),o=await(r=>new Promise((async n=>{const i=[...await self.clients.matchAll()].sort(((e,t)=>e.url>t.url?-1:e.url<t.url?1:0))[0];if(i){const s=[n,setTimeout((()=>{e.delete(r.E),n(t(r,"Timeout"))}),1e4)];e.set(r.E,s),i.postMessage(r)}else n(t(r,"NoParty"))})))(s);i(r(JSON.stringify(o),"application/json"))})))(i))};
